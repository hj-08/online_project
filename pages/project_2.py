import streamlit as st

# 페이지 설정
st.set_page_config(
    page_title="미세먼지 부가 정보",
    layout="wide", # 전체 너비를 활용하도록 설정
    initial_sidebar_state="collapsed"
)

# --- 섹션 1: 메인 헤더 및 설명 ---
st.title("✨ 미세먼지 부가 정보 및 대응 가이드")
st.markdown("""
이 페이지는 **미세먼지 분석 앱의 보조 정보**를 제공합니다. 메인 페이지의 분석 결과를 이해하고,
실제 생활에서 건강을 보호하기 위한 구체적인 **등급 기준**과 **행동 수칙**을 확인하세요.
""")
st.divider()

# --- 섹션 2: 미세먼지 등급 기준 (가독성 높은 테이블) ---
st.header("🌫️ 미세먼지 등급 기준 (환경부)")

# 데이터 정의
data = {
    "구분": ["좋음 (Good)", "보통 (Moderate)", "나쁨 (Unhealthy)", "매우 나쁨 (Hazardous)"],
    "PM10 (㎍/m³)": ["0 ~ 30", "31 ~ 80", "81 ~ 150", "151 이상"],
    "PM2.5 (㎍/m³)": ["0 ~ 15", "16 ~ 35", "36 ~ 75", "76 이상"],
    "색상": ["✅ 파랑", "🟡 노랑", "🟠 주황", "🔴 빨강"]
}

# 테이블 표시
st.dataframe(data, use_container_width=True, hide_index=True)

st.caption("🚨 **주의:** 해당 기준은 환경부의 대기환경 기준을 따릅니다. 국제 기준과는 다를 수 있습니다.")
st.divider()

# --- 섹션 3: 건강 행동 수칙 (칼럼과 익스펜더 활용) ---
st.header("❤️ 미세먼지 농도별 건강 행동 가이드")

st.subheader("👨‍👩‍👧‍👦 어린이 및 청소년 행동 수칙")

# 칼럼을 사용하여 4단계 등급을 시각적으로 구분
col1, col2, col3, col4 = st.columns(4)

with col1:
    st.metric(label="좋음 (0 ~ 30㎍/m³)", value="✅ 안전", delta="자유로운 활동 가능")
    st.markdown("""
    * **야외 활동:** 특별한 제약 없이 활동 가능
    * **환기:** 충분히 자주 환기 권장
    """)

with col2:
    st.metric(label="보통 (31 ~ 80㎍/m³)", value="🟡 주의 필요", delta="민감군은 주의")
    st.markdown("""
    * **일반:** 평소와 같이 활동
    * **민감군 (천식, 호흡기 질환):** 장시간 야외 활동 자제
    * **환기:** 적절한 시간대에 환기 (오전 10시~오후 4시)
    """)

with col3:
    st.metric(label="나쁨 (81 ~ 150㎍/m³)", value="🟠 위험", delta="모든 그룹 활동 제한")
    st.markdown("""
    * **실외 활동:** 장시간 또는 무리한 야외 활동 제한
    * **마스크:** 외출 시 **KF80** 이상의 보건용 마스크 반드시 착용
    * **실내:** 가급적 실내에서 머무르기
    """)

with col4:
    st.metric(label="매우 나쁨 (151㎍/m³ 이상)", value="🔴 심각", delta="실외 활동 전면 금지")
    st.markdown("""
    * **실외 활동:** **전면 금지**
    * **환기:** 창문 닫고 실내 공기청정기 사용
    * **학교/기관:** 수업 단축 또는 휴교 조치 검토
    """)

st.divider()

# --- 섹션 4: 추가 정보 (접기 기능 활용) ---
st.subheader("➕ 추가 건강 정보 및 예방 수칙")
with st.expander("📌 미세먼지 발생 시 생활 수칙 자세히 보기"):
    st.markdown("""
    ### 💧 개인 위생 관리
    * 외출 후에는 반드시 **손, 발, 얼굴을 깨끗이** 씻고, 특히 눈과 코 점막 세척에 신경 씁니다.
    * 수분을 충분히 섭취하여 기관지 점막을 촉촉하게 유지합니다.
    
    ### 🏡 실내 관리
    * 미세먼지 농도가 높을 때는 **창문을 닫고** 외부 공기 유입을 차단합니다.
    * 공기청정기를 사용하고, 젖은 걸레로 실내 바닥을 자주 닦아줍니다.
    * 진공청소기 대신 물걸레 청소를 권장합니다.
    
    ### 💊 마스크 선택 가이드
    * 미세먼지 차단 효과가 있는 **'KF80', 'KF94', 'KF99'** 등의 보건용 마스크를 착용해야 합니다. 일반 마스크는 효과가 미미합니다.
    * 마스크를 착용할 때는 코와 입 주변을 빈틈없이 밀착해야 합니다.
    """)

st.info("이 정보는 일반적인 건강 가이드라인이며, 특정 질환을 가진 경우 전문의와 상담하시기 바랍니다.")
